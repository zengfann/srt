{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5357\u4eac\u519c\u4e1a\u5927\u5b66 SRT \u9879\u76ee \u5f00\u53d1\u6d41\u7a0b \u4e0b\u8f7d\u4f9d\u8d56\uff1a pip install -r requirements.txt \u4e0b\u8f7d\u6570\u636e\u5e93\uff08MongoDB\uff09 \u4e0b\u8f7d\u94fe\u63a5 \u5728\u5de5\u7a0b\u4e0b\u65b0\u5efa .env \u6587\u4ef6\uff1a \u5185\u5bb9\u5982\u4e0b\uff0c MONGODB_HOST \u4f1a\u88abflask\u8bfb\u53d6\u7528\u4e8e\u8fde\u63a5\u6570\u636e\u5e93\uff0c JWT_SECRET \u7528\u4e8eJWT\u52a0\u5bc6 UPLOAD_FOLDER \u7528\u4e8e\u4e0a\u4f20\u56fe\u7247\u5b58\u50a8 MONGODB_HOST=mongodb://127.0.0.1:27017/srt JWT_SECRET=04d63553-4db7-4017-b5fd-32870ad71158 UPLOAD_FOLDER=upload \u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\uff08A or B\uff09 A:\u5728\u63a7\u5236\u53f0\u4e0b\uff1a export FLASK_APP = app export FLASK_ENV = development flask run dev B:\u5728PyCharm\u4e2d\u76f4\u63a5\u65b0\u5efa\u542f\u52a8\u914d\u7f6e\u5373\u53ef \u521b\u5efa\u6a21\u578b\u6d4b\u8bd5\u6587\u4ef6\u5939 model \u6587\u4ef6\u5939(\u7528\u4e8e\u5b58\u50a8\u6d4b\u8bd5\u8bc6\u522b\u6a21\u578b) \u9700\u8981\u5728 ml \u6587\u4ef6\u4e0b\u4fee\u6539 recognize.py \u4e2d\u6a21\u578b\u7684\u8def\u5f84 model = torch.load(\"path\", map_location=torch.device(\"cpu\")) \u4ee3\u7801\u68c0\u67e5\uff08 IMPORTANT \uff09 \u5b89\u88c5 pre-commit \uff1a pip install pre-commit pre-commit install \u6bcf\u6b21\u63d0\u4ea4\u4ee3\u7801pre-commit\u90fd\u4f1a\u68c0\u67e5\u4ee3\u7801\u4e2d\u7684\u95ee\u9898\uff0c\u4f8b\u5982\u53d8\u91cf\u547d\u540d\uff0c\u4ee3\u7801\u98ce\u683c\uff0c\u591a\u4f59\u7684\u7a7a\u683c\u7b49\uff0c\u5982\u679c\u7f16\u7801\u5b58\u5728\u95ee\u9898\u5c06\u4e0d\u80fdcommit\u4ee3\u7801\uff0c\u4fee\u590d\u4ee3\u7801\u4e2d\u7684\u95ee\u9898\u540e\u518d\u6b21\u63d0\u4ea4\u5373\u53ef\u3002 \u5982\u679c\u60f3\u5728\u4e0dcommit\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u68c0\u67e5\u4ee3\u7801\u4e2d\u5b58\u5728\u7684\u95ee\u9898\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a pre-commit run --all-files","title":"\u4ecb\u7ecd"},{"location":"#srt","text":"","title":"\u5357\u4eac\u519c\u4e1a\u5927\u5b66 SRT \u9879\u76ee"},{"location":"#_1","text":"\u4e0b\u8f7d\u4f9d\u8d56\uff1a pip install -r requirements.txt \u4e0b\u8f7d\u6570\u636e\u5e93\uff08MongoDB\uff09 \u4e0b\u8f7d\u94fe\u63a5 \u5728\u5de5\u7a0b\u4e0b\u65b0\u5efa .env \u6587\u4ef6\uff1a \u5185\u5bb9\u5982\u4e0b\uff0c MONGODB_HOST \u4f1a\u88abflask\u8bfb\u53d6\u7528\u4e8e\u8fde\u63a5\u6570\u636e\u5e93\uff0c JWT_SECRET \u7528\u4e8eJWT\u52a0\u5bc6 UPLOAD_FOLDER \u7528\u4e8e\u4e0a\u4f20\u56fe\u7247\u5b58\u50a8 MONGODB_HOST=mongodb://127.0.0.1:27017/srt JWT_SECRET=04d63553-4db7-4017-b5fd-32870ad71158 UPLOAD_FOLDER=upload \u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\uff08A or B\uff09 A:\u5728\u63a7\u5236\u53f0\u4e0b\uff1a export FLASK_APP = app export FLASK_ENV = development flask run dev B:\u5728PyCharm\u4e2d\u76f4\u63a5\u65b0\u5efa\u542f\u52a8\u914d\u7f6e\u5373\u53ef \u521b\u5efa\u6a21\u578b\u6d4b\u8bd5\u6587\u4ef6\u5939 model \u6587\u4ef6\u5939(\u7528\u4e8e\u5b58\u50a8\u6d4b\u8bd5\u8bc6\u522b\u6a21\u578b) \u9700\u8981\u5728 ml \u6587\u4ef6\u4e0b\u4fee\u6539 recognize.py \u4e2d\u6a21\u578b\u7684\u8def\u5f84 model = torch.load(\"path\", map_location=torch.device(\"cpu\"))","title":"\u5f00\u53d1\u6d41\u7a0b"},{"location":"#important","text":"\u5b89\u88c5 pre-commit \uff1a pip install pre-commit pre-commit install \u6bcf\u6b21\u63d0\u4ea4\u4ee3\u7801pre-commit\u90fd\u4f1a\u68c0\u67e5\u4ee3\u7801\u4e2d\u7684\u95ee\u9898\uff0c\u4f8b\u5982\u53d8\u91cf\u547d\u540d\uff0c\u4ee3\u7801\u98ce\u683c\uff0c\u591a\u4f59\u7684\u7a7a\u683c\u7b49\uff0c\u5982\u679c\u7f16\u7801\u5b58\u5728\u95ee\u9898\u5c06\u4e0d\u80fdcommit\u4ee3\u7801\uff0c\u4fee\u590d\u4ee3\u7801\u4e2d\u7684\u95ee\u9898\u540e\u518d\u6b21\u63d0\u4ea4\u5373\u53ef\u3002 \u5982\u679c\u60f3\u5728\u4e0dcommit\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u68c0\u67e5\u4ee3\u7801\u4e2d\u5b58\u5728\u7684\u95ee\u9898\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a pre-commit run --all-files","title":"\u4ee3\u7801\u68c0\u67e5\uff08IMPORTANT\uff09"},{"location":"database/","text":"\u6570\u636e\u5e93\u8bbe\u8ba1 user \u8868 { \"id\" : 1 , \"username\" : \"jack\" , \"password\" : \"jack1234\" } dataset \u8868 \u6743\u9650 \u89d2\u8272 \u6743\u9650 creator add checked sample, delete sample, check sample, delete dataset manager add checked sample, delete sample, check sample others add unchecked sample { \"id\" : 1 , \"name\" : \"\u897f\u74dc\" , \"creator\" : \"jack\" , \"labels\" : { \"\u74dc\u67c4\" : { \"type\" : \"num\" , \"max\" : 100 , \"min\" : 0 , \"description\" : \"\u74dc\u67c4\u7684\u957f\u5ea6(cm)\" }, \"\u989c\u8272\" : { \"type\" : \"enum\" , \"values\" : [ \"\u7eff\u8272\" , \"\u7ea2\u8272\" ], \"description\" : \"\u74dc\u7684\u989c\u8272\" } }, \"managers\" : [ \"jack\" , \"rose\" ] } { \"id\" : 2 , \"name\" : \"\u6a58\u5b50\" , \"creator\" : \"rose\" , \"labels\" : { \"\u76f4\u5f84\" : { \"type\" : \"num\" , \"max\" : 30 , \"min\" : 0 , \"description\" : \"\u6a58\u5b50\u7684\u76f4\u5f84(cm)\" } }, \"managers\" : [ \"jack\" , \"rose\" ] } sample \u8868 { \"id\" : 1 , \"dataset\" : 1 , \"labels\" : { \"\u74dc\u67c4\" : 12 , \"\u989c\u8272\" : \"\u7eff\u8272\" }, \"checked\" : true } { \"id\" : 2 , \"dataset\" : 1 , \"label\" : { \"\u74dc\u67c4\" : 7 , \"\u989c\u8272\" : \"\u7ea2\u8272\" }, \"checked\" : false } { \"id\" : 3 , \"dataset\" : 2 , \"labels\" : { \"\u76f4\u5f84\" : 5 }, \"checked\" : true } { \"id\" : 4 , \"dataset\" : 2 , \"labels\" : { \"\u76f4\u5f84\" : 6 }, \"checked\" : true } dataset --- 1:n --> sample","title":"\u6570\u636e\u5e93\u8bbe\u8ba1"},{"location":"database/#_1","text":"","title":"\u6570\u636e\u5e93\u8bbe\u8ba1"},{"location":"database/#user","text":"{ \"id\" : 1 , \"username\" : \"jack\" , \"password\" : \"jack1234\" }","title":"user \u8868"},{"location":"database/#dataset","text":"","title":"dataset \u8868"},{"location":"database/#_2","text":"\u89d2\u8272 \u6743\u9650 creator add checked sample, delete sample, check sample, delete dataset manager add checked sample, delete sample, check sample others add unchecked sample { \"id\" : 1 , \"name\" : \"\u897f\u74dc\" , \"creator\" : \"jack\" , \"labels\" : { \"\u74dc\u67c4\" : { \"type\" : \"num\" , \"max\" : 100 , \"min\" : 0 , \"description\" : \"\u74dc\u67c4\u7684\u957f\u5ea6(cm)\" }, \"\u989c\u8272\" : { \"type\" : \"enum\" , \"values\" : [ \"\u7eff\u8272\" , \"\u7ea2\u8272\" ], \"description\" : \"\u74dc\u7684\u989c\u8272\" } }, \"managers\" : [ \"jack\" , \"rose\" ] } { \"id\" : 2 , \"name\" : \"\u6a58\u5b50\" , \"creator\" : \"rose\" , \"labels\" : { \"\u76f4\u5f84\" : { \"type\" : \"num\" , \"max\" : 30 , \"min\" : 0 , \"description\" : \"\u6a58\u5b50\u7684\u76f4\u5f84(cm)\" } }, \"managers\" : [ \"jack\" , \"rose\" ] }","title":"\u6743\u9650"},{"location":"database/#sample","text":"{ \"id\" : 1 , \"dataset\" : 1 , \"labels\" : { \"\u74dc\u67c4\" : 12 , \"\u989c\u8272\" : \"\u7eff\u8272\" }, \"checked\" : true } { \"id\" : 2 , \"dataset\" : 1 , \"label\" : { \"\u74dc\u67c4\" : 7 , \"\u989c\u8272\" : \"\u7ea2\u8272\" }, \"checked\" : false } { \"id\" : 3 , \"dataset\" : 2 , \"labels\" : { \"\u76f4\u5f84\" : 5 }, \"checked\" : true } { \"id\" : 4 , \"dataset\" : 2 , \"labels\" : { \"\u76f4\u5f84\" : 6 }, \"checked\" : true } dataset --- 1:n --> sample","title":"sample \u8868"},{"location":"deployment/backend/","text":"\u90e8\u7f72 API \u670d\u52a1\u5668 \u4f7f\u7528 Docker \u542f\u52a8 API \u670d\u52a1 \u5b89\u88c5\u5b8c Docker \u540e\u9996\u5148\u514b\u9686\u672c\u9879\u76ee\uff1a git clone https://github.com/zengfann/srt.git \u8fdb\u5165\u672c\u9879\u76ee\u9996\u5148\u521b\u5efa\u6587\u4ef6\u4e0a\u4f20\u76ee\u5f55\u4ee5\u53ca\u6570\u636e\u5e93\u6570\u636e\u76ee\u5f55\uff1a cd srt mkdir -p data/server data/db data/server/upload \u5c06\u8bad\u7ec3\u597d\u7684 69.pth \u6a21\u578b\u6587\u4ef6\u62f7\u8d1d\u5230 data/server/69.pth \u76ee\u5f55\uff1a cp <\u6a21\u578b\u4f4d\u7f6e> data/server/69.pth \u542f\u52a8\u670d\u52a1\uff1a docker-compose up -d \u542f\u52a8\u8fc7\u7a0b\u4e2d\u4f1a\u4e0b\u8f7d mongodb \u955c\u50cf\u5e76\u6784\u5efa\u672c\u9879\u76ee\u7684\u955c\u50cf\uff0c\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u4f1a\u4f7f\u7528 pip \u4e0b\u8f7d\u82e5\u5e72\u4f9d\u8d56\uff0c\u65f6\u95f4\u53ef\u80fd\u8f83\u957f\u3002\u670d\u52a1\u542f\u52a8\u6210\u529f\u540e\u4f1a\u8dd1\u57288000\u7aef\u53e3\u4e0a\uff0c\u8bf7\u786e\u4fdd8000\u7aef\u53e3\u6ca1\u6709\u88ab\u5360\u7528\u3002","title":"\u90e8\u7f72 API \u670d\u52a1\u5668"},{"location":"deployment/backend/#api","text":"","title":"\u90e8\u7f72 API \u670d\u52a1\u5668"},{"location":"deployment/backend/#docker-api","text":"\u5b89\u88c5\u5b8c Docker \u540e\u9996\u5148\u514b\u9686\u672c\u9879\u76ee\uff1a git clone https://github.com/zengfann/srt.git \u8fdb\u5165\u672c\u9879\u76ee\u9996\u5148\u521b\u5efa\u6587\u4ef6\u4e0a\u4f20\u76ee\u5f55\u4ee5\u53ca\u6570\u636e\u5e93\u6570\u636e\u76ee\u5f55\uff1a cd srt mkdir -p data/server data/db data/server/upload \u5c06\u8bad\u7ec3\u597d\u7684 69.pth \u6a21\u578b\u6587\u4ef6\u62f7\u8d1d\u5230 data/server/69.pth \u76ee\u5f55\uff1a cp <\u6a21\u578b\u4f4d\u7f6e> data/server/69.pth \u542f\u52a8\u670d\u52a1\uff1a docker-compose up -d \u542f\u52a8\u8fc7\u7a0b\u4e2d\u4f1a\u4e0b\u8f7d mongodb \u955c\u50cf\u5e76\u6784\u5efa\u672c\u9879\u76ee\u7684\u955c\u50cf\uff0c\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u4f1a\u4f7f\u7528 pip \u4e0b\u8f7d\u82e5\u5e72\u4f9d\u8d56\uff0c\u65f6\u95f4\u53ef\u80fd\u8f83\u957f\u3002\u670d\u52a1\u542f\u52a8\u6210\u529f\u540e\u4f1a\u8dd1\u57288000\u7aef\u53e3\u4e0a\uff0c\u8bf7\u786e\u4fdd8000\u7aef\u53e3\u6ca1\u6709\u88ab\u5360\u7528\u3002","title":"\u4f7f\u7528 Docker \u542f\u52a8 API \u670d\u52a1"},{"location":"deployment/docker/","text":"\u5b89\u88c5 Docker \u9996\u5148\u9700\u8981\u4e0b\u8f7d Docker\uff0c\u4e0d\u540c\u7684 Linux \u53d1\u884c\u7248\u5b89\u88c5\u65b9\u6cd5\u5982\u4e0b\u3002 \u5728 CentOS \u4e0a\u5b89\u88c5 Docker \u9996\u5148\u5378\u8f7d\u65e7\u7248\u672c\u7684 Docker\uff1a sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine \u5b89\u88c5 yum-utils \u5305\uff08\u63d0\u4f9b yum-config-manager \u7a0b\u5e8f\uff09\u5e76\u8bbe\u7f6e \u7a33\u5b9a\u7248\u672c \u7684 repository\u3002 sudo yum install -y yum-utils sudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo \u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 Docker Engine \u548c containerd\uff1a sudo yum install docker-ce docker-ce-cli containerd.io \u5728 Ubuntu \u4e0a\u5b89\u88c5 Docker \u9996\u5148\u5378\u8f7d\u65e7\u7248\u672c\u7684 Docker\uff1a sudo apt-get remove docker docker-engine docker.io containerd runc \u66f4\u65b0 apt \u5305\u7d22\u5f15\u5e76\u5b89\u88c5\u5305\u4ee5\u5141\u8bb8 apt \u901a\u8fc7 HTTPS \u4f7f\u7528\u5b58\u50a8\u5e93\uff1a sudo apt-get update sudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ gnupg \\ lsb-release \u6dfb\u52a0 Docker \u5b98\u65b9\u7684 GPG \u5bc6\u94a5\uff1a curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e\u7a33\u5b9a\u7248\u672c\u5b58\u50a8\u5e93\u3002 x86_64 / amd64 echo \\ \"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $( lsb_release -cs ) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null armhf echo \\ \"deb [arch=armhf signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $( lsb_release -cs ) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null arm64 echo \\ \"deb [arch=arm64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $( lsb_release -cs ) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null \u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 Docker Engine \u548c containerd\uff1a sudo apt-get update sudo apt-get install docker-ce docker-ce-cli containerd.io \u5b89\u88c5 docker-compose \u4e0b\u8f7d\u7f16\u8bd1\u597d\u7684 docker-compose \u955c\u50cf\uff1a sudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose- $( uname -s ) - $( uname -m ) \" -o /usr/local/bin/docker-compose \u5efa\u7acb\u8f6f\u94fe\u63a5\uff1a sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose \u6d4b\u8bd5\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a docker-compose --version docker-compose version 1 .29.2, build 1110ad01","title":"\u5b89\u88c5 Docker"},{"location":"deployment/docker/#docker","text":"\u9996\u5148\u9700\u8981\u4e0b\u8f7d Docker\uff0c\u4e0d\u540c\u7684 Linux \u53d1\u884c\u7248\u5b89\u88c5\u65b9\u6cd5\u5982\u4e0b\u3002","title":"\u5b89\u88c5 Docker"},{"location":"deployment/docker/#centos-docker","text":"\u9996\u5148\u5378\u8f7d\u65e7\u7248\u672c\u7684 Docker\uff1a sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine \u5b89\u88c5 yum-utils \u5305\uff08\u63d0\u4f9b yum-config-manager \u7a0b\u5e8f\uff09\u5e76\u8bbe\u7f6e \u7a33\u5b9a\u7248\u672c \u7684 repository\u3002 sudo yum install -y yum-utils sudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo \u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 Docker Engine \u548c containerd\uff1a sudo yum install docker-ce docker-ce-cli containerd.io","title":"\u5728 CentOS \u4e0a\u5b89\u88c5 Docker"},{"location":"deployment/docker/#ubuntu-docker","text":"\u9996\u5148\u5378\u8f7d\u65e7\u7248\u672c\u7684 Docker\uff1a sudo apt-get remove docker docker-engine docker.io containerd runc \u66f4\u65b0 apt \u5305\u7d22\u5f15\u5e76\u5b89\u88c5\u5305\u4ee5\u5141\u8bb8 apt \u901a\u8fc7 HTTPS \u4f7f\u7528\u5b58\u50a8\u5e93\uff1a sudo apt-get update sudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ gnupg \\ lsb-release \u6dfb\u52a0 Docker \u5b98\u65b9\u7684 GPG \u5bc6\u94a5\uff1a curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e\u7a33\u5b9a\u7248\u672c\u5b58\u50a8\u5e93\u3002 x86_64 / amd64 echo \\ \"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $( lsb_release -cs ) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null armhf echo \\ \"deb [arch=armhf signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $( lsb_release -cs ) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null arm64 echo \\ \"deb [arch=arm64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $( lsb_release -cs ) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null \u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 Docker Engine \u548c containerd\uff1a sudo apt-get update sudo apt-get install docker-ce docker-ce-cli containerd.io","title":"\u5728 Ubuntu \u4e0a\u5b89\u88c5 Docker"},{"location":"deployment/docker/#docker-compose","text":"\u4e0b\u8f7d\u7f16\u8bd1\u597d\u7684 docker-compose \u955c\u50cf\uff1a sudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose- $( uname -s ) - $( uname -m ) \" -o /usr/local/bin/docker-compose \u5efa\u7acb\u8f6f\u94fe\u63a5\uff1a sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose \u6d4b\u8bd5\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a docker-compose --version docker-compose version 1 .29.2, build 1110ad01","title":"\u5b89\u88c5 docker-compose"},{"location":"deployment/frontend/","text":"\u90e8\u7f72\u524d\u7aef\u7f51\u9875 \u5b89\u88c5 nodejs \u672c\u8fc7\u7a0b\u4e0d\u9700\u8981\u5728\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\uff0c\u5efa\u8bae\u5728\u672c\u673a\u6784\u5efa\u597d\u9759\u6001\u8d44\u6e90\u540e\u76f4\u63a5\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002Windows \u4e0b\u6709 nodejs \u7684\u5b89\u88c5\u5305\uff0c\u5b89\u88c5\u8f83\u4e3a\u65b9\u4fbf\u3002\u4e0b\u9762\u6f14\u793a\u7684\u5b89\u88c5\u8fc7\u7a0b\u662f Linux \u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u5b89\u88c5\u65b9\u6cd5\u3002 \u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177\u6216 nvm \u5b89\u88c5 nodejs\uff0c\u8fd9\u91cc\u4ee5 nvm \u4e3a\u4f8b\uff0cnvm \u662f\u4e00\u4e2a nodejs \u7684\u7248\u672c\u7ba1\u7406\u5de5\u5177\uff0c\u4f7f\u7528 nvm \u53ef\u4ee5\u65b9\u4fbf\u7684\u4e0b\u8f7d\u4efb\u610f\u7248\u672c\u7684 nodejs\u3002 \u9996\u5148\u5b89\u88c5 nvm\uff1a curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash \u5b89\u88c5 nodejs \u7684 LTS \u7248\u672c\uff1a nvm install --lts nvm use --lts \u6d4b\u8bd5\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a node --version npm --version \u6784\u5efa\u9759\u6001\u8d44\u6e90 \u514b\u9686\u524d\u7aef\u4ee3\u7801\uff1a git clone https://github.com/Statuey/plant.git \u5b89\u88c5\u4f9d\u8d56\uff08\u5982\u679c\u9047\u5230\u7f51\u7edc\u95ee\u9898\u8bf7\u4f7f\u7528 npm \u955c\u50cf\u6765\u4e0b\u8f7d\uff09\uff1a cd plant npm install \u6784\u5efa\u9759\u6001\u8d44\u6e90\uff1a npm run build \u6784\u5efa\u597d\u7684\u6587\u4ef6\u5b58\u50a8\u5728 dist \u76ee\u5f55\u4e0b\u3002 \u4e0a\u4f20\u5230\u670d\u52a1\u5668 \u6784\u5efa\u597d\u7684\u9759\u6001\u8d44\u6e90\u5efa\u8bae\u5b58\u653e\u5728\u670d\u52a1\u5668\u7684 /var/www/plant \u4f4d\u7f6e\u3002\u53ef\u4ee5\u4f7f\u7528 scp \u6216 rsync \u5de5\u5177\u5c06\u8d44\u6e90\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002","title":"\u90e8\u7f72\u524d\u7aef\u7f51\u9875"},{"location":"deployment/frontend/#_1","text":"","title":"\u90e8\u7f72\u524d\u7aef\u7f51\u9875"},{"location":"deployment/frontend/#nodejs","text":"\u672c\u8fc7\u7a0b\u4e0d\u9700\u8981\u5728\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\uff0c\u5efa\u8bae\u5728\u672c\u673a\u6784\u5efa\u597d\u9759\u6001\u8d44\u6e90\u540e\u76f4\u63a5\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002Windows \u4e0b\u6709 nodejs \u7684\u5b89\u88c5\u5305\uff0c\u5b89\u88c5\u8f83\u4e3a\u65b9\u4fbf\u3002\u4e0b\u9762\u6f14\u793a\u7684\u5b89\u88c5\u8fc7\u7a0b\u662f Linux \u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u5b89\u88c5\u65b9\u6cd5\u3002 \u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177\u6216 nvm \u5b89\u88c5 nodejs\uff0c\u8fd9\u91cc\u4ee5 nvm \u4e3a\u4f8b\uff0cnvm \u662f\u4e00\u4e2a nodejs \u7684\u7248\u672c\u7ba1\u7406\u5de5\u5177\uff0c\u4f7f\u7528 nvm \u53ef\u4ee5\u65b9\u4fbf\u7684\u4e0b\u8f7d\u4efb\u610f\u7248\u672c\u7684 nodejs\u3002 \u9996\u5148\u5b89\u88c5 nvm\uff1a curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash \u5b89\u88c5 nodejs \u7684 LTS \u7248\u672c\uff1a nvm install --lts nvm use --lts \u6d4b\u8bd5\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a node --version npm --version","title":"\u5b89\u88c5 nodejs"},{"location":"deployment/frontend/#_2","text":"\u514b\u9686\u524d\u7aef\u4ee3\u7801\uff1a git clone https://github.com/Statuey/plant.git \u5b89\u88c5\u4f9d\u8d56\uff08\u5982\u679c\u9047\u5230\u7f51\u7edc\u95ee\u9898\u8bf7\u4f7f\u7528 npm \u955c\u50cf\u6765\u4e0b\u8f7d\uff09\uff1a cd plant npm install \u6784\u5efa\u9759\u6001\u8d44\u6e90\uff1a npm run build \u6784\u5efa\u597d\u7684\u6587\u4ef6\u5b58\u50a8\u5728 dist \u76ee\u5f55\u4e0b\u3002","title":"\u6784\u5efa\u9759\u6001\u8d44\u6e90"},{"location":"deployment/frontend/#_3","text":"\u6784\u5efa\u597d\u7684\u9759\u6001\u8d44\u6e90\u5efa\u8bae\u5b58\u653e\u5728\u670d\u52a1\u5668\u7684 /var/www/plant \u4f4d\u7f6e\u3002\u53ef\u4ee5\u4f7f\u7528 scp \u6216 rsync \u5de5\u5177\u5c06\u8d44\u6e90\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002","title":"\u4e0a\u4f20\u5230\u670d\u52a1\u5668"},{"location":"deployment/nginx/","text":"\u4f7f\u7528 Nginx \u8fdb\u884c\u53cd\u5411\u4ee3\u7406 \u4f7f\u7528 nginx \u670d\u52a1\u5668\u8fdb\u884c\u53cd\u5411\u4ee3\u7406\uff1a \u5728 /etc/nginx/conf.d \u4e2d\u521b\u5efa plant.conf \u914d\u7f6e\u6587\u4ef6\uff0c\u586b\u5199\u4ee5\u4e0b\u5185\u5bb9\uff1a server { listen 80 ; listen [::]:80 ; server_name <\u586b\u5199\u4f60\u7684\u57df\u540d> ; root <\u9759\u6001\u8d44\u6e90\u4f4d\u7f6e(/var/www/plant)> ; location / { try_files $uri $uri/ /index.html ; } location /files/ { alias <\u4ee3\u7801\u5e93\u4f4d\u7f6e(/root/code/srt)>/data/server/upload ; } location /api { rewrite /api/(.*) / $1 break ; proxy_pass http://127.0.0.1:8000 ; } } \u5237\u65b0 nginx \u670d\u52a1\uff1a nginx -s reload","title":"\u4f7f\u7528 Nginx \u8fdb\u884c\u53cd\u5411\u4ee3\u7406"},{"location":"deployment/nginx/#nginx","text":"\u4f7f\u7528 nginx \u670d\u52a1\u5668\u8fdb\u884c\u53cd\u5411\u4ee3\u7406\uff1a \u5728 /etc/nginx/conf.d \u4e2d\u521b\u5efa plant.conf \u914d\u7f6e\u6587\u4ef6\uff0c\u586b\u5199\u4ee5\u4e0b\u5185\u5bb9\uff1a server { listen 80 ; listen [::]:80 ; server_name <\u586b\u5199\u4f60\u7684\u57df\u540d> ; root <\u9759\u6001\u8d44\u6e90\u4f4d\u7f6e(/var/www/plant)> ; location / { try_files $uri $uri/ /index.html ; } location /files/ { alias <\u4ee3\u7801\u5e93\u4f4d\u7f6e(/root/code/srt)>/data/server/upload ; } location /api { rewrite /api/(.*) / $1 break ; proxy_pass http://127.0.0.1:8000 ; } } \u5237\u65b0 nginx \u670d\u52a1\uff1a nginx -s reload","title":"\u4f7f\u7528 Nginx \u8fdb\u884c\u53cd\u5411\u4ee3\u7406"}]}